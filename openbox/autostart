xdpyinfo | grep VNC > /dev/null
declare isvnc=$? # 0 ako je vnc

vnc () {
    # log
    echo "$(date): Started VNC" >> $HOME/.my.log

    # daemons
    xsettingsd -c /home/igor/arch/misc/xsettingsd &

    # bacgkround
    xsetroot -solid '#038387'

    # interface
    conky -c /home/igor/arch/misc/conkyrc-headless -d
    # conky -c /home/igor/arch/misc/conkyrc-sysinfo -d
    tint2 -c /home/igor/arch/misc/tint2rc-top &
    tint2 -c /home/igor/arch/misc/tint2rc-bottom &
}

desktop () {
    # log
    echo "$(date): Started Openbox" >> $HOME/.my.log

    # daemons
    xsettingsd -c /home/igor/arch/misc/xsettingsd &
    xcompmgr -a &

    # resolution and background
    /home/igor/arch/scripts/fixres.sh
    feh --bg-scale /home/igor/arch/wall/default3.png
    #xsetroot -solid '#038387'

    # conky
    conky -c /home/igor/arch/misc/conkyrc-headless -d
    # conky -m 0 -c /home/igor/arch/misc/conkyrc-sysinfo -d
    # conky -m 1 -c /home/igor/arch/misc/conkyrc-sysinfo -d
    # conky -m 2 -c /home/igor/arch/misc/conkyrc-sysinfo -d

    # tray
    tint2 -c /home/igor/arch/misc/tint2rc-top &
    tint2 -c /home/igor/arch/misc/tint2rc-bottom &
    pnmixer &
    xfce4-clipman &
    (sleep 5 && flameshot) &

    # autolock
    #xautolock -time 60 -locker "systemctl suspend" -detectsleep &

    # vnc
    vncserver &
}

[ $isvnc -eq 0 ] || desktop
[ $isvnc -eq 0 ] && vnc
